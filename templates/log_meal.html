{% extends 'base.html' %}
{% block content %}
<script src='/static/mealchartinput.js'></script>
<div class='row'>
    <div class='col'>
        <div id="pie_chart"></div>
    </div>
<!-- <span class="dot"></span> -->

<script type="text/javascript">
$(function(argument) {
    // Initialize time to now
    let today = moment().format('YYYY-MM-DDTHH:mm');
    $("input[name='meal_time']").val(today);

    // Initialize meal name
    if(moment().hours() >= 0 && moment().hours() < 11){
        $("input[value='breakfast']").prop('checked', true);
    }
    else if(moment().hours() >= 11 && moment().hours() < 18){
        $("input[value='lunch']").prop('checked', true);
    }
    else{
        $("input[value='dinner']").prop('checked', true);
    }
})    
</script>

<div class='col'>
<form action='/log_meal', method= "POST">

    <div class="form-group">    
    <h5>Select the date and time meal consumed</h5>
    <input type="datetime-local" name="meal_time"></input>
    </div>
    <div class="form-group">
        <h5>Select Meal name</h5>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text">
                <input type="radio" name="meal_name" value="breakfast">&nbsp;Breakfast</input>
            </div>
            <div class="input-group-text">
                <input type="radio" name="meal_name" value="lunch">&nbsp;Lunch</input>
            </div>
            <div class="input-group-text">
                <input type="radio" name="meal_name" value="dinner">&nbsp;Dinner</input>
            </div>
          </div>
        </div>
    </div>
    <div style="visibility:hidden;">
        <select  name="meal_component_40">
            <option value="Carbohydrates">Carbohydrates</option>
            <option value="Proteins">Proteins</option>
            <option selected="selected" value="Vegetables">Vegetables</option>
            <option value="Fruits">Fruits</option>
        </select>

        <select name="meal_component_10">
            <option value="Carbohydrates">Carbohydrates</option>
            <option value="Proteins">Proteins</option>
            <option value="Vegetables">Vegetables</option>
            <option selected="selected" value="Fruits">Fruits</option>
        </select>

        <select name="meal_component_25">
            <option selected="selected" value="Carbohydrates">Carbohydrates</option>
            <option value="Proteins">Proteins</option>
            <option value="Vegetables">Vegetables</option>
            <option value="Fruits">Fruits</option>
        </select>

        <select name="meal_component_2_25">
            <option value="Carbohydrates">Carbohydrates</option>
            <option selected="selected" value="Proteins">Proteins</option>
            <option value="Vegetables">Vegetables</option>
            <option value="Fruits">Fruits</option>
        </select>
    
        <select name="meal_component_drink">
            <option value="Water">Water</option>
            <option value="Juice">Juice</option>
            <option value="Dairy">Dairy</option>
            <option value="Soda">Soda</option>
            <option value="Tea_no_sugar">Tea no sugar</option>
            <option value="Coffee_no_sugar">Coffee no sugar</option>
            <option value="Tea_with_sugar">Tea with sugar</option>
            <option value="Coffee_with_sugar">Coffee with sugar</option>
        </select>
    
        <select name="meal_component_oil">
            <option value="Unsaturated_fat">Unsaturated Fat</option>
            <option value="Saturated_fat">Saturated Fat</option>
            <option value="Trans_fat">Trans Fat</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Log meal</button>
</form>
</div>
</div>

<div class='row'>

<div id="food_clarification">
For clarification on foodgroups:

<a href="https://www.hsph.harvard.edu/nutritionsource/what-should-you-eat/whole-grains/">Whole Grains</a>
<br>
<a href="https://www.hsph.harvard.edu/nutritionsource/what-should-you-eat/protein/">Proteins</a>
<br>
<a href="https://www.hsph.harvard.edu/nutritionsource/what-should-you-eat/vegetables-and-fruits/">Vegetables and Fruits</a>
<br>
<a href="https://www.hsph.harvard.edu/nutritionsource/healthy-drinks/">Drinks</a>
<br>
<a href="https://www.hsph.harvard.edu/nutritionsource/what-should-you-eat/fats-and-cholesterol/">Fats</a>

</div>
</div>

{% endblock %}